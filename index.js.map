{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_KEY = '49651388-bf829c1018596f8ebf90706c1';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\n\r\nexport function getImagesByQuery(query){\r\n    return axios.get('https://pixabay.com/api/', {\r\n        params:{\r\n            key: '49651388-bf829c1018596f8ebf90706c1',\r\n            q: query,\r\n            image_type: 'photo',\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.data.hits;\r\n        \r\n    })\r\n    .catch(error => {\r\n        console.error('Request error', error);\r\n        throw error;\r\n    } )\r\n}\r\n\r\n\r\n\r\n","import SimpleLightbox from \"simplelightbox\";\r\n\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\n\r\n\r\nconst galleryContainer = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.loader');\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a',  {\r\n    captionsData: 'alt',\r\n    captionDelay: 250,\r\n  });\r\n\r\n\r\nexport function createGallery(images){\r\n    const markup = images.map(image => {\r\n        return`\r\n            <li class=\"gallery-item\">\r\n                <a href = \"${image.largeImageURL}\">\r\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\r\n                </a>\r\n                <div class=\"info\">\r\n        <p><b>Likes:</b> ${image.likes}</p>\r\n        <p><b>Views:</b> ${image.views}</p>\r\n        <p><b>Comments:</b> ${image.comments}</p>\r\n        <p><b>Downloads:</b> ${image.downloads}</p>\r\n      </div>\r\n      </li>\r\n        `;\r\n    }).join(''); \r\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\r\n    lightbox.refresh();\r\n}\r\n\r\nexport function clearGallery(){\r\n    galleryContainer.innerHTML = '';\r\n}\r\n\r\nexport function showLoader(){\r\n    loader.classList.remove('is-hidden');\r\n}\r\n\r\nexport function hideLoader(){\r\n    loader.classList.add('is-hidden');\r\n}\r\n","\r\nimport { getImagesByQuery } from './js/pixabay-api';\r\nimport {\r\ncreateGallery,\r\nclearGallery,\r\nshowLoader,\r\nhideLoader\r\n} from './js/render-functions.js'\r\n\r\nimport iziToast from 'izitoast';\r\n\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nimport './css/styles.css';\r\n\r\n\r\nconst form = document.querySelector('.form');\r\nconst input = form.elements['search-text'];\r\n  \r\nform.addEventListener('submit', onFormSubmit)\r\nfunction onFormSubmit(event){\r\n    event.preventDefault();\r\n    const query = input.value.trim();\r\n\r\n    if (query ==='') {\r\n        iziToast.warning({\r\n            title: 'Oops!',\r\n            message: 'Please enter a search term!',\r\n            position: 'topRight',\r\n        });\r\n        return;\r\n    }\r\n    clearGallery();\r\n    showLoader();\r\n    getImagesByQuery(query)\r\n    .then(images => {\r\n        hideLoader();\r\n\r\n        if (images.length === 0){\r\n            iziToast.info({\r\n                title: 'No results',\r\n                message: 'Sorry, there are no images matching your search query.',\r\n                position: 'topRight',\r\n              });\r\n              return;\r\n        }\r\n\r\n        createGallery(images);\r\n    })\r\n    .catch(error => {\r\n        hideLoader();\r\n        iziToast.error({\r\n          title: 'Error',\r\n          message: 'Something went wrong. Please try again later.',\r\n          position: 'topRight',\r\n        });\r\n        console.error(error);\r\n      });\r\n}\r\n\r\n\r\n\r\n\r\n    \r\n  \r\n   \r\n\r\n "],"names":["getImagesByQuery","query","axios","response","error","galleryContainer","loader","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","input","onFormSubmit","event","iziToast"],"mappings":"+vBAMO,SAASA,EAAiBC,EAAM,CACnC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAO,CACH,IAAK,qCACL,EAAGD,EACH,WAAY,OACf,CACT,CAAK,EACA,KAAKE,GACKA,EAAS,KAAK,IAExB,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,gBAAiBA,CAAK,EAC9BA,CACd,CAAO,CACP,CChBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAe,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,EAGI,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAO,IAAIE,GAChB;AAAA;AAAA,6BAEeA,EAAM,aAAa;AAAA,4BACpBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,2BAGvCA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIzC,EAAE,KAAK,EAAE,EACVP,EAAiB,mBAAmB,YAAaM,CAAM,EACvDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAc,CAC1BR,EAAiB,UAAY,EACjC,CAEO,SAASS,GAAY,CACxBR,EAAO,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAY,CACxBT,EAAO,UAAU,IAAI,WAAW,CACpC,CC7BA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAUE,CAAY,EAC5C,SAASA,EAAaC,EAAM,CACxBA,EAAM,eAAc,EACpB,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAIhB,IAAS,GAAI,CACbmB,EAAS,QAAQ,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,IACAC,IACAd,EAAiBC,CAAK,EACrB,KAAKS,GAAU,CAGZ,GAFAK,IAEIL,EAAO,SAAW,EAAE,CACpBU,EAAS,KAAK,CACV,MAAO,aACP,QAAS,yDACT,SAAU,UAC1B,CAAe,EACD,MACL,CAEDX,EAAcC,CAAM,CAC5B,CAAK,EACA,MAAMN,GAAS,CACZW,IACAK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UACpB,CAAS,EACD,QAAQ,MAAMhB,CAAK,CAC3B,CAAO,CACP"}