{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = '49651388-bf829c1018596f8ebf90706c1';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport function getImagesByQuery(query){\n    return axios.get('https://pixabay.com/api/', {\n        params:{\n            key: '49651388-bf829c1018596f8ebf90706c1',\n            q: query,\n            image_type: 'photo',\n        },\n    })\n    .then(response => {\n        return response.data.hits;\n        \n    })\n    .catch(error => {\n        console.error('Request error', error);\n        throw error;\n    } )\n}\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a',  {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n\nexport function createGallery(images){\n    const markup = images.map(image => {\n        return`\n            <li class=\"gallery-item\">\n                <a href = \"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                </a>\n                <div class=\"info\">\n        <p><b>Likes:</b> ${image.likes}</p>\n        <p><b>Views:</b> ${image.views}</p>\n        <p><b>Comments:</b> ${image.comments}</p>\n        <p><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n      </li>\n        `;\n    }).join(''); \n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery(){\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader(){\n    loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader(){\n    loader.classList.add('is-hidden');\n}\n","\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\ncreateGallery,\nclearGallery,\nshowLoader,\nhideLoader\n} from './js/render-functions.js'\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport './css/styles.css';\n\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\n  \nform.addEventListener('submit', onFormSubmit)\nfunction onFormSubmit(event){\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (query ==='') {\n        iziToast.warning({\n            title: 'Oops!',\n            message: 'Please enter a search term!',\n            position: 'topRight',\n        });\n        return;\n    }\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query)\n    .then(images => {\n        hideLoader();\n\n        if (images.length === 0){\n            iziToast.info({\n                title: 'No results',\n                message: 'Sorry, there are no images matching your search query.',\n                position: 'topRight',\n              });\n              return;\n        }\n\n        createGallery(images);\n    })\n    .catch(error => {\n        hideLoader();\n        iziToast.error({\n          title: 'Error',\n          message: 'Something went wrong. Please try again later.',\n          position: 'topRight',\n        });\n        console.error(error);\n      });\n}\n\n\n\n\n    \n  \n   \n\n "],"names":["getImagesByQuery","query","axios","response","error","galleryContainer","loader","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","input","onFormSubmit","event","iziToast"],"mappings":"+vBAMO,SAASA,EAAiBC,EAAM,CACnC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAO,CACH,IAAK,qCACL,EAAGD,EACH,WAAY,OACf,CACT,CAAK,EACA,KAAKE,GACKA,EAAS,KAAK,IAExB,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,gBAAiBA,CAAK,EAC9BA,CACd,CAAO,CACP,CChBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAe,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,EAGI,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAO,IAAIE,GAChB;AAAA;AAAA,6BAEeA,EAAM,aAAa;AAAA,4BACpBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,2BAGvCA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIzC,EAAE,KAAK,EAAE,EACVP,EAAiB,mBAAmB,YAAaM,CAAM,EACvDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAc,CAC1BR,EAAiB,UAAY,EACjC,CAEO,SAASS,GAAY,CACxBR,EAAO,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAY,CACxBT,EAAO,UAAU,IAAI,WAAW,CACpC,CC7BA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAUE,CAAY,EAC5C,SAASA,EAAaC,EAAM,CACxBA,EAAM,eAAc,EACpB,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAIhB,IAAS,GAAI,CACbmB,EAAS,QAAQ,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,IACAC,IACAd,EAAiBC,CAAK,EACrB,KAAKS,GAAU,CAGZ,GAFAK,IAEIL,EAAO,SAAW,EAAE,CACpBU,EAAS,KAAK,CACV,MAAO,aACP,QAAS,yDACT,SAAU,UAC1B,CAAe,EACD,MACL,CAEDX,EAAcC,CAAM,CAC5B,CAAK,EACA,MAAMN,GAAS,CACZW,IACAK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UACpB,CAAS,EACD,QAAQ,MAAMhB,CAAK,CAC3B,CAAO,CACP"}